{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kelly\\\\IdeaProjects\\\\restAPI\\\\src\\\\main\\\\front-end\\\\app_board\\\\src\\\\func.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function username() {\n  return sessionStorage.getItem('username');\n}\nexport function User() {\n  if (isLogin()) {\n    const user = FetchWithoutId(\"user\");\n    return user;\n  } else {\n    return null;\n  }\n}\n_c = User;\nexport function isEmpty(value) {\n  if (value === \"\" || value === null || value === undefined || value !== null && typeof value === \"object\" && !Object.keys(value).length) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function isLogin() {\n  if (sessionStorage.getItem('username')) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function isAdmin(auth) {\n  if (_.isEqual(auth, \"ROLE_ADMIN\")) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function thisUser(createdNickname, user) {\n  return isLogin() && _.isEqual(createdNickname, user === null || user === void 0 ? void 0 : user.nick_name);\n}\nexport function getUrlId(n) {\n  const urlList = window.location.href.split('/');\n  const id = urlList[urlList.length - n];\n  return id;\n}\nexport function ifError(e) {\n  if (e.response.status === 401) {\n    alert(\"Don't have permission.\\nPlease Login.\");\n    window.location.replace(\"/login\");\n  } else {\n    alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\n    window.location.replace(\"/board\");\n  }\n}\nexport function FetchWithoutId(dataName) {\n  _s();\n\n  const [data, setData] = useState({\n    data: {}\n  });\n  useEffect(() => {\n    axios.get(`/${dataName}`).then(res => {\n      var _res$data;\n\n      console.log(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data);\n      setData(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(e => {\n      ifError(e);\n    });\n  }, []);\n\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Loading ... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }, this);\n  } else {\n    return data === null || data === void 0 ? void 0 : data.data;\n  }\n}\n\n_s(FetchWithoutId, \"EpNGfgEa+TPyS6hWw3ADUNCIuyY=\");\n\n_c2 = FetchWithoutId;\nexport function FetchWithId(dataName, n) {\n  _s2();\n\n  const [data, setData] = useState({\n    data: {}\n  });\n  const id = getUrlId(n);\n  useEffect(() => {\n    axios.get(`/${dataName}/${id}`).then(res => {\n      setData(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(e => {\n      ifError(e);\n    });\n  }, []);\n\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Loading ... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }, this);\n  } else {\n    return data.data;\n  }\n}\n\n_s2(FetchWithId, \"EpNGfgEa+TPyS6hWw3ADUNCIuyY=\");\n\n_c3 = FetchWithId;\nexport function Delete(dataName, dataId, articleId) {\n  if (_.isEqual(dataName, \"comment\")) {\n    axios.delete(`/${dataName}/${dataId}`).then(() => {\n      alert(\"Successfully deleted.\");\n      window.location.replace(`/board/${articleId}`);\n    }).catch(e => {\n      alert(\"Failed to delete.\");\n      window.location.replace(`/board/${articleId}`);\n    });\n  } else {\n    axios.delete(`/${dataName}/${dataId}`).then(() => {\n      alert(\"Successfully deleted.\");\n      window.location.replace(`/${dataName}`);\n    }).catch(e => {\n      alert(\"Failed to delete.\");\n      window.location.replace(`/${dataName}/${dataId}`);\n    });\n  }\n}\n_c4 = Delete;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"User\");\n$RefreshReg$(_c2, \"FetchWithoutId\");\n$RefreshReg$(_c3, \"FetchWithId\");\n$RefreshReg$(_c4, \"Delete\");","map":{"version":3,"names":["useState","useEffect","axios","_","username","sessionStorage","getItem","User","isLogin","user","FetchWithoutId","isEmpty","value","undefined","Object","keys","length","isAdmin","auth","isEqual","thisUser","createdNickname","nick_name","getUrlId","n","urlList","window","location","href","split","id","ifError","e","response","status","alert","replace","statusText","dataName","data","setData","get","then","res","console","log","catch","FetchWithId","Delete","dataId","articleId","delete"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/func.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\n\r\nexport function username(){\r\n    return sessionStorage.getItem('username');\r\n}\r\n\r\nexport function User(){\r\n    if(isLogin()){\r\n        const user = FetchWithoutId(\"user\");\r\n        return user;\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function isEmpty(value){\r\n    if(value === \"\" || value === null || value === undefined || ( value !== null && typeof value === \"object\" && !Object.keys(value).length)){\r\n        return true;\r\n    }else { return false; }\r\n}\r\n\r\nexport function isLogin(){\r\n   if(sessionStorage.getItem('username')){ return true; }\r\n   else { return false; }\r\n}\r\n\r\nexport function isAdmin(auth){\r\n    if(_.isEqual(auth, \"ROLE_ADMIN\")){\r\n        return true;\r\n    }else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function thisUser(createdNickname, user){\r\n    return isLogin() && _.isEqual(createdNickname, user?.nick_name);\r\n}\r\n\r\n\r\nexport function getUrlId(n){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const id = urlList[(urlList.length)-n];\r\n    return id;\r\n}\r\n\r\nexport function ifError(e){\r\n    if(e.response.status === 401){\r\n        alert(\"Don't have permission.\\nPlease Login.\");\r\n        window.location.replace(\"/login\");\r\n    }else{\r\n        alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\r\n        window.location.replace(\"/board\");\r\n    }\r\n}\r\n\r\nexport function FetchWithoutId(dataName){\r\n    const [data, setData] = useState({ data : {} });\r\n    useEffect(() => {\r\n        axios.get(`/${dataName}`).then((res) => {\r\n                console.log(res?.data?.data);\r\n                setData(res?.data);\r\n            }).catch((e) => {\r\n                ifError(e);\r\n        });\r\n    }, []);\r\n    if(!data){ return <div> Loading ... </div>}\r\n    else{ return data?.data;}\r\n}\r\n\r\nexport function FetchWithId(dataName, n){\r\n    const [data, setData] = useState({ data : {} });\r\n    const id = getUrlId(n);\r\n    useEffect( () => {\r\n        axios.get(`/${dataName}/${id}`).then((res) => {\r\n                setData(res?.data);\r\n            }).catch((e) => {\r\n                ifError(e);\r\n        });\r\n    }, [])\r\n    if(!data){ return <div> Loading ... </div>}\r\n    else{ return data.data;}\r\n}\r\n\r\nexport function Delete(dataName, dataId, articleId){\r\n    if(_.isEqual(dataName, \"comment\")){\r\n        axios.delete(`/${dataName}/${dataId}`).then(() => {\r\n            alert(\"Successfully deleted.\");\r\n            window.location.replace(`/board/${articleId}`);\r\n        }).catch((e) => {\r\n            alert(\"Failed to delete.\");\r\n            window.location.replace(`/board/${articleId}`);\r\n        })\r\n    }else{\r\n        axios.delete(`/${dataName}/${dataId}`).then(() => {\r\n            alert(\"Successfully deleted.\");\r\n            window.location.replace(`/${dataName}`);\r\n        }).catch((e) => {\r\n            alert(\"Failed to delete.\");\r\n            window.location.replace(`/${dataName}/${dataId}`);\r\n        });\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}