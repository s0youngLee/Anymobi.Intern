{"ast":null,"code":"import _slicedToArray from\"C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CategoryEdit(){var urlList=window.location.href.split('/');var categoryId=urlList[urlList.length-2];var _useState=useState({data:{}}),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var RES=fetch(\"/category/\".concat(categoryId)).then(function(res){return res.json();}).then(function(result){setCategory(result);setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\" Loading ... \"});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CategoryEditForm,{categoryId:categoryId,nameOrigin:category.data.name}),/*#__PURE__*/_jsx(\"button\",{id:\"btn-remove\",onClick:function onClick(){window.location.href=\"/category\";},children:\" Back \"})]});}}function CategoryEditForm(_ref){var categoryId=_ref.categoryId,nameOrigin=_ref.nameOrigin;var axios=require('axios');var _useState5=useState(nameOrigin),_useState6=_slicedToArray(_useState5,2),categoryName=_useState6[0],setCategoryName=_useState6[1];var editName=useCallback(function(e){setCategoryName(e.target.value);},[]);var isEmpty=function isEmpty(value){if(value===\"\"||value===null||value===undefined||value!==null&&typeof value===\"object\"&&!Object.keys(value).length){return true;}else{return false;}};var editCategory=function editCategory(e){if(isEmpty(e.target.value)){setCategoryName(nameOrigin);}axios.put(\"/category/\".concat(categoryId),{data:{name:categoryName}});alert(\"category: \"+nameOrigin+\" id: \"+categoryId+\" edited. \\n After : \"+categoryName);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:editCategory,children:/*#__PURE__*/_jsxs(\"div\",{id:\"div-box\",children:[/*#__PURE__*/_jsx(\"b\",{style:{textAlign:\"center\"},children:\" Edit Category \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"id-box\",placeholder:categoryId,readOnly:true}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"id-box\",placeholder:nameOrigin,onChange:editName}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"btn-post\",style:{textAlign:\"right\"},onClick:function onClick(){window.location.href=\"/category\";},children:\" Save \"})]})})]});}export default CategoryEdit;","map":{"version":3,"names":["useState","useCallback","useEffect","CategoryEdit","urlList","window","location","href","split","categoryId","length","data","category","setCategory","loading","setLoading","RES","fetch","then","res","json","result","name","CategoryEditForm","nameOrigin","axios","require","categoryName","setCategoryName","editName","e","target","value","isEmpty","undefined","Object","keys","editCategory","put","alert","textAlign"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/Category/CategoryEdit.js"],"sourcesContent":["import {useState, useCallback, useEffect} from \"react\";\r\n\r\n\r\nfunction CategoryEdit(){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const categoryId = urlList[(urlList.length)-2];\r\n    \r\n    const [category, setCategory] = useState({\r\n        data : {}\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    useEffect(()=> {\r\n        const RES = fetch(`/category/${categoryId}`)\r\n        .then(res =>  res.json())\r\n        .then(result => {\r\n            setCategory(result);\r\n            setLoading(false);\r\n        });\r\n    },[]);\r\n\r\n    if(loading) {return <div> Loading ... </div>}\r\n    else { \r\n        return (\r\n            <div>\r\n                <CategoryEditForm categoryId={categoryId} nameOrigin={category.data.name}/>\r\n                <button id=\"btn-remove\"\r\n                        onClick={() => {window.location.href=`/category`}}> Back </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction CategoryEditForm({categoryId, nameOrigin}){\r\n    const axios = require('axios');\r\n    const [categoryName, setCategoryName] = useState(nameOrigin);\r\n    \r\n    const editName = useCallback( e => {\r\n        setCategoryName(e.target.value);\r\n    }, [])\r\n\r\n    const isEmpty = function(value){\r\n        if(value === \"\" || value === null || value === undefined || ( value !== null && typeof value === \"object\" && !Object.keys(value).length)){\r\n            return true;\r\n        }else { return false; }\r\n    }\r\n\r\n    const editCategory = (e) => {\r\n        if(isEmpty(e.target.value)){ setCategoryName(nameOrigin); }\r\n\r\n        axios.put(`/category/${categoryId}`, {\r\n            data : {\r\n                name: categoryName\r\n            }\r\n        })\r\n        alert(\"category: \" + nameOrigin + \" id: \" + categoryId + \" edited. \\n After : \" + categoryName);\r\n    }\r\n\r\n\r\n    return (\r\n        <><br/><br/><br/>\r\n        <form onSubmit={editCategory}>\r\n            <div id=\"div-box\">\r\n                <b style={{textAlign: \"center\"}}> Edit Category </b> <br/>\r\n                <input id=\"id-box\" placeholder={categoryId} readOnly></input> <br/>\r\n                <input id=\"id-box\" placeholder={nameOrigin} onChange={editName}></input> <br/>\r\n                <button type=\"submit\" id=\"btn-post\" style={{textAlign: \"right\"}}\r\n                     onClick={() => {window.location.href=`/category`}}> Save </button>\r\n            </div>\r\n        </form></>\r\n    )\r\n}\r\n\r\nexport default CategoryEdit;"],"mappings":"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"},"metadata":{},"sourceType":"module"}