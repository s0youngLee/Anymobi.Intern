{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kelly\\\\IdeaProjects\\\\restAPI\\\\src\\\\main\\\\front-end\\\\app_board\\\\src\\\\func.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport useCookies from \"react-cookie/cjs/useCookies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function IsLogin() {\n  _s();\n\n  const [cookie,,] = useCookies(['login']); // console.log(cookie);\n\n  if (_.isEmpty(cookie)) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\n_s(IsLogin, \"p1016IrYwQvZncnDnZtU568+Dic=\", false, function () {\n  return [useCookies];\n});\n\n_c = IsLogin;\nexport function User() {\n  console.log(IsLogin());\n\n  if (IsLogin()) {\n    const user = FetchWithoutId(\"user\").data;\n    return user;\n  } else {\n    return null;\n  }\n}\n_c2 = User;\nexport function isAdmin(auth) {\n  if (_.isEqual(auth, \"ROLE_ADMIN\")) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function thisUser(createdNickname, user) {\n  return IsLogin() && _.isEqual(createdNickname, user === null || user === void 0 ? void 0 : user.nick_name);\n}\nexport function getUrlId(n) {\n  const urlList = window.location.href.split('/');\n  const id = urlList[urlList.length - n];\n  return id;\n}\nexport function ifError(e) {\n  if (e.response.status === 400) {\n    alert(\"Bad Request\");\n    window.location.reload();\n  } else if (e.response.status === 401) {\n    alert(\"Don't have permission.\\nPlease Login.\");\n    window.location.replace(\"/login\");\n  } else if (e.response.status === 403) {\n    alert(\"Response rejected.\");\n    window.location.replace(\"/home\");\n  } else if (e.response.status === 404) {\n    /*#__PURE__*/\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" SORRY \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 24\n        }, this), \" Page Not Found \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"We can't found this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        id: \"none\",\n        to: `/home`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"btn-remove\",\n          children: \"HOME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this);\n  } else {\n    alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\n    window.location.replace(\"/board\");\n  }\n}\nexport function FetchWithoutId(dataName) {\n  _s2();\n\n  const [data, setData] = useState({\n    data: {}\n  });\n  useEffect(() => {\n    axios.get(`/${dataName}`).then(res => {\n      setData(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(e => {\n      ifError(e);\n    });\n  }, [dataName]);\n\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Loading ... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }, this);\n  } else {\n    return data;\n  }\n}\n\n_s2(FetchWithoutId, \"EpNGfgEa+TPyS6hWw3ADUNCIuyY=\");\n\n_c3 = FetchWithoutId;\nexport function FetchWithId(dataName, n) {\n  _s3();\n\n  const [data, setData] = useState({\n    data: {}\n  });\n  const id = getUrlId(n);\n  useEffect(() => {\n    axios.get(`/${dataName}/${id}`).then(res => {\n      setData(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(e => {\n      ifError(e);\n    });\n  }, [dataName, id]);\n\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Loading ... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }, this);\n  } else {\n    return data.data;\n  }\n}\n\n_s3(FetchWithId, \"EpNGfgEa+TPyS6hWw3ADUNCIuyY=\");\n\n_c4 = FetchWithId;\nexport function Delete(dataName, dataId) {\n  axios.delete(`/${dataName}/${dataId}`).then(() => {\n    alert(\"Successfully deleted.\");\n\n    if (_.isEqual(dataName, \"comment\")) {\n      window.location.reload();\n    } else {\n      window.location.replace(`/${dataName}`);\n    }\n  }).catch(e => {\n    alert(\"Failed to delete.\");\n    window.location.reload();\n  });\n}\n_c5 = Delete;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"IsLogin\");\n$RefreshReg$(_c2, \"User\");\n$RefreshReg$(_c3, \"FetchWithoutId\");\n$RefreshReg$(_c4, \"FetchWithId\");\n$RefreshReg$(_c5, \"Delete\");","map":{"version":3,"names":["React","useState","useEffect","Link","_","axios","useCookies","IsLogin","cookie","isEmpty","User","console","log","user","FetchWithoutId","data","isAdmin","auth","isEqual","thisUser","createdNickname","nick_name","getUrlId","n","urlList","window","location","href","split","id","length","ifError","e","response","status","alert","reload","replace","statusText","dataName","setData","get","then","res","catch","FetchWithId","Delete","dataId","delete"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/func.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport axios from \"axios\";\r\nimport useCookies from \"react-cookie/cjs/useCookies\";\r\n\r\nexport function IsLogin(){\r\n    const [cookie, ,] = useCookies(['login']);\r\n    // console.log(cookie);\r\n\r\n    if (_.isEmpty(cookie)){ return false; }\r\n    else{ return true; }\r\n}\r\n\r\nexport function User(){\r\n    console.log(IsLogin());\r\n    if(IsLogin()){\r\n        const user = FetchWithoutId(\"user\").data;\r\n        return user;\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function isAdmin(auth){\r\n    if(_.isEqual(auth, \"ROLE_ADMIN\")){\r\n        return true;\r\n    }else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function thisUser(createdNickname, user){\r\n    return IsLogin() && _.isEqual(createdNickname, user?.nick_name);\r\n}\r\n\r\n\r\nexport function getUrlId(n){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const id = urlList[(urlList.length)-n];\r\n    return id;\r\n}\r\n\r\nexport function ifError(e){\r\n    if(e.response.status === 400){\r\n        alert(\"Bad Request\");\r\n        window.location.reload();\r\n    }else if(e.response.status === 401){\r\n        alert(\"Don't have permission.\\nPlease Login.\");\r\n        window.location.replace(\"/login\");\r\n    }else if(e.response.status === 403){\r\n        alert(\"Response rejected.\");\r\n        window.location.replace(\"/home\");\r\n    }else if(e.response.status === 404){\r\n        <div>\r\n            <h1> SORRY <br/> Page Not Found </h1><hr/>\r\n            <b>We can't found this page.</b>\r\n            <Link id=\"none\" to={`/home`}><button id=\"btn-remove\">HOME</button></Link>\r\n        </div>\r\n    }else{\r\n        alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\r\n        window.location.replace(\"/board\");\r\n    }\r\n}\r\n\r\nexport function FetchWithoutId(dataName){\r\n    const [data, setData] = useState({ data : {} });\r\n    useEffect(() => {\r\n        axios.get(`/${dataName}`)\r\n        .then((res) => {\r\n            setData(res?.data)\r\n        })\r\n        .catch((e) => {\r\n            ifError(e);\r\n        });\r\n    }, [dataName]);\r\n    \r\n    if(!data){ return <div> Loading ... </div> }\r\n    else{ return data; }\r\n}\r\n\r\nexport function FetchWithId(dataName, n){\r\n    const [data, setData] = useState({ data : {} });\r\n    const id = getUrlId(n);\r\n    useEffect( () => {\r\n        axios.get(`/${dataName}/${id}`).then((res) => {\r\n                setData(res?.data);\r\n            }).catch((e) => {\r\n                ifError(e);\r\n        });\r\n    }, [dataName, id]);\r\n    if(!data){ return <div> Loading ... </div>}\r\n    else{ return data.data;}\r\n}\r\n\r\nexport function Delete(dataName, dataId){\r\n    axios.delete(`/${dataName}/${dataId}`).then(() => {\r\n        alert(\"Successfully deleted.\");\r\n        if(_.isEqual(dataName, \"comment\")){\r\n            window.location.reload();\r\n        }else {\r\n            window.location.replace(`/${dataName}`);\r\n        }\r\n    }).catch((e) => {\r\n        alert(\"Failed to delete.\");\r\n        window.location.reload();\r\n    });\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}