{"ast":null,"code":"import _slicedToArray from\"C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from'react-router-dom';import Article from\"../Article/Article\";import _ from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ArticlesByCategory(_ref){var category=_ref.category;var urlList=window.location.href.split('/');var categoryId=urlList[urlList.length-1];// console.log(category);\nvar _useState=useState({data:{}}),_useState2=_slicedToArray(_useState,2),articleByCategory=_useState2[0],setArticleByCategory=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),categoryName=_useState4[0],setCategoryName=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var RES=fetch(\"/board/category/\".concat(categoryId)).then(function(res){return res.json();}).then(function(result){setArticleByCategory(result);for(var i=0;i<category.length;i++){var _category$i;// console.log(category[i].id);\nif(_.isEqual(categoryId,String((_category$i=category[i])===null||_category$i===void 0?void 0:_category$i.id))){setCategoryName(category[i].name);break;}}// console.log(categoryName);\nsetLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\" Loading ... \"});}else{var _articleByCategory$da;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{style:{color:\"#373737\",textAlign:\"center\"},children:[\" Category : \",categoryName,\" \"]})}),/*#__PURE__*/_jsxs(\"table\",{id:\"list\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" ID \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Title \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Category \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Created By \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Created At \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Visit \"}),/*#__PURE__*/_jsx(\"th\",{id:\"item\",children:\" Comment \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:articleByCategory===null||articleByCategory===void 0?void 0:(_articleByCategory$da=articleByCategory.data)===null||_articleByCategory$da===void 0?void 0:_articleByCategory$da.map(function(article,index){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(Article,{data:article})},index);})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",id:\"none\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{id:\"btn-default\",children:\" Home \"})]}),/*#__PURE__*/_jsx(Link,{to:\"/board\",id:\"none\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn-default\",children:\" Board \"})}),/*#__PURE__*/_jsxs(Link,{to:\"/board/add/\".concat(categoryId),id:\"none\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{id:\"btn-post\",children:\" Write \"})]}),/*#__PURE__*/_jsx(\"br\",{})]})]});}}export default ArticlesByCategory;","map":{"version":3,"names":["React","useState","useEffect","Link","Article","_","ArticlesByCategory","category","urlList","window","location","href","split","categoryId","length","data","articleByCategory","setArticleByCategory","categoryName","setCategoryName","loading","setLoading","RES","fetch","then","res","json","result","i","isEqual","String","id","name","color","textAlign","map","article","index","width"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/Category/ArticlesByCategory.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport Article from \"../Article/Article\";\r\nimport _ from 'lodash';\r\n\r\nfunction ArticlesByCategory({category}){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const categoryId = urlList[(urlList.length)-1]\r\n    // console.log(category);\r\n\r\n    const [articleByCategory, setArticleByCategory] = useState({  data : {}  });\r\n    const [categoryName, setCategoryName] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(()=> {\r\n        const RES = fetch(`/board/category/${categoryId}`)\r\n                    .then(res =>  res.json())\r\n                    .then(result => {\r\n                        setArticleByCategory(result);\r\n                        for(let i = 0; i<category.length; i++){\r\n                            // console.log(category[i].id);\r\n                            if(_.isEqual(categoryId,(String)(category[i]?.id))){\r\n                                setCategoryName(category[i].name);\r\n                                break;\r\n                            }\r\n                        }\r\n                        // console.log(categoryName);\r\n                        setLoading(false);\r\n                    });\r\n    }, []);\r\n    \r\n    if(loading) { return <div> Loading ... </div> }\r\n    else {\r\n        return (\r\n        <div>\r\n            <div>\r\n                <h1 style={{color: \"#373737\", textAlign:\"center\"}}> Category : {categoryName} </h1> \r\n            </div>\r\n            <table id=\"list\">\r\n                <thead>\r\n                    <tr>\r\n                        <th id=\"item\"> ID </th>\r\n                        <th id=\"item\"> Title </th>\r\n                        <th id=\"item\"> Category </th>\r\n                        <th id=\"item\"> Created By </th>\r\n                        <th id=\"item\"> Created At </th>\r\n                        <th id=\"item\"> Visit </th> \r\n                        <th id=\"item\"> Comment </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {articleByCategory?.data?.map((article, index) => (\r\n                        <tr key={index}><Article data={article} /></tr>\r\n                        ))}\r\n                </tbody>\r\n            </table>\r\n            <br/>\r\n            <div style={{width: \"100%\", textAlign: \"center\"}}>\r\n                <Link to={`/`} id=\"none\"> <button id=\"btn-default\"> Home </button></Link>\r\n                <Link to={`/board`} id=\"none\"><button id=\"btn-default\"> Board </button></Link>\r\n                <Link to={`/board/add/${categoryId}`} id=\"none\"> <button id=\"btn-post\"> Write </button></Link> \r\n                <br/>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default ArticlesByCategory;"],"mappings":"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"},"metadata":{},"sourceType":"module"}