{"ast":null,"code":"import _slicedToArray from\"C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useCallback}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ArticleEdit(){var urlList=window.location.href.split('/');var articleId=urlList[urlList.length-2];var _useState=useState({data:{}}),_useState2=_slicedToArray(_useState,2),articleDetail=_useState2[0],setArticleDetail=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var RES=fetch(\"/board/\".concat(articleId)).then(function(res){return res.json();}).then(function(result){setArticleDetail(result);setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\" Loading ... \"});}else{var _articleDetail$data,_articleDetail$data2,_articleDetail$data3,_articleDetail$data4,_articleDetail$data5;return/*#__PURE__*/_jsx(ArticleEditForm,{titleOrigin:articleDetail===null||articleDetail===void 0?void 0:(_articleDetail$data=articleDetail.data)===null||_articleDetail$data===void 0?void 0:_articleDetail$data.title,contentOrigin:articleDetail===null||articleDetail===void 0?void 0:(_articleDetail$data2=articleDetail.data)===null||_articleDetail$data2===void 0?void 0:_articleDetail$data2.content,categoryOrigin:articleDetail===null||articleDetail===void 0?void 0:(_articleDetail$data3=articleDetail.data)===null||_articleDetail$data3===void 0?void 0:_articleDetail$data3.category_id,idOrigin:articleDetail===null||articleDetail===void 0?void 0:(_articleDetail$data4=articleDetail.data)===null||_articleDetail$data4===void 0?void 0:_articleDetail$data4.created_id,articleId:articleDetail===null||articleDetail===void 0?void 0:(_articleDetail$data5=articleDetail.data)===null||_articleDetail$data5===void 0?void 0:_articleDetail$data5.id});}}function ArticleEditForm(_ref){var titleOrigin=_ref.titleOrigin,contentOrigin=_ref.contentOrigin,categoryOrigin=_ref.categoryOrigin,idOrigin=_ref.idOrigin,articleId=_ref.articleId;var axios=require('axios');var _useState5=useState(titleOrigin),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(contentOrigin),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var _useState9=useState(categoryOrigin),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var _useState11=useState(idOrigin),_useState12=_slicedToArray(_useState11,2),createdId=_useState12[0],setCreatedId=_useState12[1];var editCreatedId=useCallback(function(e){setCreatedId(e.target.value);},[]);var editTitle=useCallback(function(e){setTitle(e.target.value);},[]);var editCategory=useCallback(function(e){setCategory(e.target.value);},[]);var editContent=useCallback(function(e){setContent(e.target.value);},[]);var isEmpty=function isEmpty(value){if(value===\"\"||value===null||value===undefined||value!==null&&typeof value===\"object\"&&!Object.keys(value).length){return true;}else{return false;}};var editArticle=function editArticle(e){if(isEmpty(e.target.value)){setCreatedId(idOrigin);}if(isEmpty(e.target.value)){setTitle(titleOrigin);}if(isEmpty(e.target.value)){setTitle(categoryOrigin);}if(isEmpty(e.target.value)){setContent(contentOrigin);}axios.put(\"/board/\".concat(articleId),{data:{title:title,content:content,created_id:createdId,category_id:category}});alert(\"Article Edited\");};return/*#__PURE__*/_jsx(\"div\",{id:\"div-box\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:editArticle,children:/*#__PURE__*/_jsxs(\"div\",{id:\"div-box\",children:[/*#__PURE__*/_jsx(\"b\",{style:{textAlign:\"center\"},children:\" Edit Article \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"id-box\",placeholder:idOrigin,onChange:editCreatedId}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"id-box\",placeholder:titleOrigin,onChange:editTitle}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"id-box\",placeholder:categoryOrigin,onChange:editCategory}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{id:\"text-box\",placeholder:contentOrigin,onChange:editContent}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"btn-post\",style:{textAlign:\"right\"},onClick:function onClick(){window.location.href=\"/board/\".concat(articleId);},children:\" Save \"})]})})});}export default ArticleEdit;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ArticleEdit","urlList","window","location","href","split","articleId","length","data","articleDetail","setArticleDetail","loading","setLoading","RES","fetch","then","res","json","result","title","content","category_id","created_id","id","ArticleEditForm","titleOrigin","contentOrigin","categoryOrigin","idOrigin","axios","require","setTitle","setContent","category","setCategory","createdId","setCreatedId","editCreatedId","e","target","value","editTitle","editCategory","editContent","isEmpty","undefined","Object","keys","editArticle","put","alert","textAlign"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/Article/ArticleEdit.js"],"sourcesContent":["import React, {useState, useEffect, useCallback} from \"react\";\r\n\r\nfunction ArticleEdit(){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const articleId = urlList[(urlList.length)-2];\r\n    \r\n    const [articleDetail, setArticleDetail] = useState({\r\n        data : {}\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    useEffect(()=> {\r\n        const RES = fetch(`/board/${articleId}`)\r\n        .then(res =>  res.json())\r\n        .then(result => {\r\n            setArticleDetail(result);\r\n            setLoading(false);\r\n        });\r\n    },[]);\r\n\r\n    if(loading) {return <div> Loading ... </div>}\r\n    else { \r\n        return (\r\n        <ArticleEditForm titleOrigin={articleDetail?.data?.title}\r\n                         contentOrigin={articleDetail?.data?.content}\r\n                         categoryOrigin={articleDetail?.data?.category_id} \r\n                         idOrigin={articleDetail?.data?.created_id} \r\n                         articleId={articleDetail?.data?.id}/>\r\n    )}\r\n}\r\n\r\n\r\nfunction ArticleEditForm({titleOrigin, contentOrigin, categoryOrigin, idOrigin, articleId}) {\r\n    const axios = require('axios');\r\n\r\n    const [title, setTitle] = useState(titleOrigin);\r\n    const [content, setContent] = useState(contentOrigin);\r\n    const [category, setCategory] = useState(categoryOrigin);\r\n    const [createdId, setCreatedId] = useState(idOrigin);\r\n\r\n    const editCreatedId = useCallback(e => {\r\n        setCreatedId(e.target.value);\r\n    }, [])\r\n\r\n    const editTitle = useCallback(e => {\r\n        setTitle(e.target.value);\r\n    }, [])\r\n    \r\n    const editCategory = useCallback(e => {\r\n        setCategory(e.target.value);\r\n    }, [])\r\n    \r\n    const editContent = useCallback(e => {\r\n        setContent(e.target.value);\r\n    }, [])\r\n    \r\n    const isEmpty = function(value){\r\n        if(value === \"\" || value === null || value === undefined || ( value !== null && typeof value === \"object\" && !Object.keys(value).length)){\r\n            return true;\r\n        }else { return false; }\r\n    }\r\n\r\n    const editArticle = (e) => {\r\n        if(isEmpty(e.target.value)){ setCreatedId(idOrigin); }\r\n        if(isEmpty(e.target.value)){ setTitle(titleOrigin); }\r\n        if(isEmpty(e.target.value)){ setTitle(categoryOrigin); } \r\n        if(isEmpty(e.target.value)){ setContent(contentOrigin); }\r\n        \r\n        axios.put(`/board/${articleId}`, {\r\n            data : {\r\n                title : title,\r\n                content : content,\r\n                created_id : createdId,\r\n                category_id : category\r\n            }\r\n        });\r\n        \r\n        alert(\"Article Edited\");\r\n    }\r\n\r\n    return(\r\n        <div id=\"div-box\">\r\n            <form onSubmit={editArticle}>\r\n                <div id=\"div-box\">\r\n                    <b style={{textAlign: \"center\"}}> Edit Article </b> <br/>\r\n                    <input id=\"id-box\" placeholder={idOrigin} onChange={editCreatedId}></input> <br/>\r\n                    <input id=\"id-box\" placeholder={titleOrigin} onChange={editTitle}></input> <br/>\r\n                    <input id=\"id-box\" placeholder={categoryOrigin} onChange={editCategory} ></input> <br/>\r\n                    <textarea id=\"text-box\" placeholder={contentOrigin} onChange={editContent}></textarea> <br/>\r\n                    <button type=\"submit\" id=\"btn-post\" style={{textAlign: \"right\"}}\r\n                            onClick={() => {window.location.href=`/board/${articleId}`}}> Save </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ArticleEdit;"],"mappings":"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"},"metadata":{},"sourceType":"module"}