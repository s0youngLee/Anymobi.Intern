{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport { useState, useEffect } from \"react\";\nconst [user, setUser] = useState({\n  data: {}\n});\nuseEffect(() => {\n  if (isLogin()) {\n    axios.get(`/user/${username()}`).then(res => {\n      setUser(res === null || res === void 0 ? void 0 : res.data);\n    });\n  } else {\n    return null;\n  }\n});\nexport function username() {\n  return sessionStorage.getItem('username');\n}\nexport function User() {\n  if (isLogin()) {\n    const user = Fetching(\"user\", username());\n    return user;\n  } else {\n    return null;\n  }\n}\n_c = User;\nexport function isEmpty(value) {\n  if (value === \"\" || value === null || value === undefined || value !== null && typeof value === \"object\" && !Object.keys(value).length) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function isLogin() {\n  if (sessionStorage.getItem('username')) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function isAdmin(auth) {\n  if (_.isEqual(auth, \"ROLE_ADMIN\")) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function thisUser(createdNickname, user) {\n  return isLogin() && _.isEqual(createdNickname, user === null || user === void 0 ? void 0 : user.nick_name);\n}\nexport function getUrlId(n) {\n  const urlList = window.location.href.split('/');\n  const id = urlList[urlList.length - n];\n  return id;\n} // if문으로 돌리는게 나눠서 돌리는것보다 나은가????? 이유 찾아보고 아니면 나눠서 속도 향상.\n\nexport function Fetching(dataName, n) {\n  _s();\n\n  const id = getUrlId(n);\n  const [data, setData] = useState({\n    data: {}\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (_.isEqual(dataName, \"board/category\") && Number(id) === 0) {\n      axios.get('/board/category/0').then(res => {\n        setData(res === null || res === void 0 ? void 0 : res.data);\n        setLoading(false);\n      }).catch(e => {\n        alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\n        window.location.replace(\"/board\");\n      });\n    } else if (_.isEqual(dataName, \"user/article\")) {\n      axios.get(`/${dataName}/${user === null || user === void 0 ? void 0 : user.nick_name}`).then(res => {\n        setData(res === null || res === void 0 ? void 0 : res.data);\n        setLoading(false);\n      }).catch(e => {\n        alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board\");\n        window.location.replace(\"/board\");\n      });\n    } else if (_.isEqual(n, sessionStorage.getItem('username'))) {\n      axios.get(`/${dataName}/${n}`).then(res => {\n        setData(res === null || res === void 0 ? void 0 : res.data);\n        setLoading(false);\n      }).catch(e => {\n        alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\n        window.location.replace(\"/board\");\n      });\n    } else if (isNaN(id)) {\n      axios.get(`/${dataName}`).then(res => {\n        setData(res === null || res === void 0 ? void 0 : res.data);\n        setLoading(false);\n      }).catch(e => {\n        alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\n        window.location.replace(\"/board\");\n      });\n    } else {\n      axios.get(`/${dataName}/${id}`).then(res => {\n        setData(res === null || res === void 0 ? void 0 : res.data);\n        setLoading(false);\n      }).catch(e => {\n        console.log(e);\n\n        if (e.response.status === 401) {\n          alert(\"Don't have permission.\\nPlease Login.\");\n          window.location.replace(\"/login\");\n        } else {\n          alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\n          window.location.replace(\"/board\");\n        }\n      });\n    }\n  }, []);\n\n  if (!loading) {\n    return data.data;\n  }\n}\n\n_s(Fetching, \"bfD6z6r5UG4H0wKk1i+gHhisfh8=\");\n\n_c2 = Fetching;\nexport function Delete(dataName, dataId) {\n  axios.delete(`/${dataName}/${dataId}`).then(() => {\n    alert(\"Successfully deleted.\");\n    window.location.replace(`/${dataName}`); // Comment : window.location.replace(`/${dataName}/${dataId}`); -- 보류\n  }).catch(e => {\n    alert(\"Failed to delete.\");\n    window.location.replace(`/${dataName}/${dataId}`); // Comment : window.location.replace(`/${dataName}/${dataId-articleId}`); -- 보류\n  });\n}\n_c3 = Delete;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"User\");\n$RefreshReg$(_c2, \"Fetching\");\n$RefreshReg$(_c3, \"Delete\");","map":{"version":3,"names":["axios","_","useState","useEffect","user","setUser","data","isLogin","get","username","then","res","sessionStorage","getItem","User","Fetching","isEmpty","value","undefined","Object","keys","length","isAdmin","auth","isEqual","thisUser","createdNickname","nick_name","getUrlId","n","urlList","window","location","href","split","id","dataName","setData","loading","setLoading","Number","catch","e","alert","response","statusText","replace","isNaN","console","log","status","Delete","dataId","delete"],"sources":["C:/Users/kelly/IdeaProjects/restAPI/src/main/front-end/app_board/src/func.js"],"sourcesContent":["import axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst [user, setUser] = useState({ data : {} });\r\nuseEffect( () => {\r\n    if(isLogin()){\r\n        axios.get(`/user/${username()}`).then((res) => {\r\n            setUser(res?.data);\r\n        })\r\n    }else{\r\n        return null;\r\n    }\r\n})\r\n\r\nexport function username(){\r\n    return sessionStorage.getItem('username');\r\n}\r\n\r\nexport function User(){\r\n    if(isLogin()){\r\n        const user = Fetching(\"user\", username());\r\n        return user;\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function isEmpty(value){\r\n    if(value === \"\" || value === null || value === undefined || ( value !== null && typeof value === \"object\" && !Object.keys(value).length)){\r\n        return true;\r\n    }else { return false; }\r\n}\r\n\r\nexport function isLogin(){\r\n   if(sessionStorage.getItem('username')){ return true; }\r\n   else { return false; }\r\n}\r\n\r\nexport function isAdmin(auth){\r\n    if(_.isEqual(auth, \"ROLE_ADMIN\")){\r\n        return true;\r\n    }else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function thisUser(createdNickname, user){\r\n    return isLogin() && _.isEqual(createdNickname, user?.nick_name);\r\n}\r\n\r\n\r\nexport function getUrlId(n){\r\n    const urlList = ((window.location.href).split('/'));\r\n    const id = urlList[(urlList.length)-n];\r\n    return id;\r\n}\r\n\r\n// if문으로 돌리는게 나눠서 돌리는것보다 나은가????? 이유 찾아보고 아니면 나눠서 속도 향상.\r\nexport function Fetching(dataName, n){\r\n    const id = getUrlId(n);\r\n    const [data, setData] = useState({ data : {} });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if(_.isEqual(dataName, \"board/category\") && (Number(id)===0)){\r\n            axios.get('/board/category/0').then((res) => {\r\n                setData(res?.data);\r\n                setLoading(false);\r\n            }).catch((e) => {\r\n                alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\r\n                window.location.replace(\"/board\");\r\n            });\r\n        }else if(_.isEqual(dataName, \"user/article\")){\r\n            axios.get(`/${dataName}/${user?.nick_name}`).then((res) => {\r\n                setData(res?.data);\r\n                setLoading(false);\r\n            }).catch((e) => {\r\n                alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board\");\r\n                window.location.replace(\"/board\");\r\n            })\r\n        }else if(_.isEqual(n, sessionStorage.getItem('username'))){\r\n            axios.get(`/${dataName}/${n}`).then((res) => {\r\n                setData(res?.data);\r\n                setLoading(false);\r\n            }).catch((e) => {\r\n                alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\r\n                window.location.replace(\"/board\");\r\n            })\r\n        }else if(isNaN(id)){\r\n            axios.get(`/${dataName}`).then((res) => {\r\n                setData(res?.data);\r\n                setLoading(false);\r\n            }).catch((e) => {\r\n                alert(\"Error : \" + e.response.statusText + \"\\nReturn to Board.\");\r\n                window.location.replace(\"/board\");\r\n            });\r\n        }else{\r\n            axios.get(`/${dataName}/${id}`).then((res) => {\r\n                setData(res?.data);\r\n                setLoading(false);\r\n            }).catch((e) => {\r\n                console.log(e);\r\n                if(e.response.status === 401){\r\n                    alert(\"Don't have permission.\\nPlease Login.\");\r\n                    window.location.replace(\"/login\");\r\n                }else{\r\n                    alert(\"Error : \" + e.response.status + \" \" + e.response.statusText + \"\\nReturn to Board.\");\r\n                    window.location.replace(\"/board\");\r\n                }\r\n            });\r\n        }\r\n    }, []);\r\n    if(!loading) { return data.data; }\r\n}\r\n\r\nexport function Delete(dataName, dataId){\r\n    axios.delete(`/${dataName}/${dataId}`).then(() => {\r\n        alert(\"Successfully deleted.\");\r\n        window.location.replace(`/${dataName}`);\r\n         // Comment : window.location.replace(`/${dataName}/${dataId}`); -- 보류\r\n    }).catch((e) => {\r\n        alert(\"Failed to delete.\");\r\n        window.location.replace(`/${dataName}/${dataId}`);\r\n        // Comment : window.location.replace(`/${dataName}/${dataId-articleId}`); -- 보류\r\n    });\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}